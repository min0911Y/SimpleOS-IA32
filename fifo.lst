     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_task_run
     7 00000000                                 [FILE "fifo.c"]
     8                                          [SECTION .data]
     9 00000000                                 _keytable:
    10 00000000 00                              	DB	0
    11 00000001 00                              	DB	0
    12 00000002 21                              	DB	33
    13 00000003 40                              	DB	64
    14 00000004 23                              	DB	35
    15 00000005 24                              	DB	36
    16 00000006 25                              	DB	37
    17 00000007 5E                              	DB	94
    18 00000008 26                              	DB	38
    19 00000009 2A                              	DB	42
    20 0000000A 28                              	DB	40
    21 0000000B 29                              	DB	41
    22 0000000C 5F                              	DB	95
    23 0000000D 2B                              	DB	43
    24 0000000E 08                              	DB	8
    25 0000000F 00                              	DB	0
    26 00000010 51                              	DB	81
    27 00000011 57                              	DB	87
    28 00000012 45                              	DB	69
    29 00000013 52                              	DB	82
    30 00000014 54                              	DB	84
    31 00000015 59                              	DB	89
    32 00000016 55                              	DB	85
    33 00000017 49                              	DB	73
    34 00000018 4F                              	DB	79
    35 00000019 50                              	DB	80
    36 0000001A 7B                              	DB	123
    37 0000001B 7D                              	DB	125
    38 0000001C 0A                              	DB	10
    39 0000001D 00                              	DB	0
    40 0000001E 41                              	DB	65
    41 0000001F 53                              	DB	83
    42 00000020 44                              	DB	68
    43 00000021 46                              	DB	70
    44 00000022 47                              	DB	71
    45 00000023 48                              	DB	72
    46 00000024 4A                              	DB	74
    47 00000025 4B                              	DB	75
    48 00000026 4C                              	DB	76
    49 00000027 3A                              	DB	58
    50 00000028 22                              	DB	34
    51 00000029 00                              	DB	0
    52 0000002A 00                              	DB	0
    53 0000002B 7C                              	DB	124
    54 0000002C 5A                              	DB	90
    55 0000002D 58                              	DB	88
    56 0000002E 43                              	DB	67
    57 0000002F 56                              	DB	86
    58 00000030 42                              	DB	66
    59 00000031 4E                              	DB	78
    60 00000032 4D                              	DB	77
    61 00000033 3C                              	DB	60
    62 00000034 3E                              	DB	62
    63 00000035 3F                              	DB	63
    64 00000036 00                              	DB	0
    65 00000037 2A                              	DB	42
    66 00000038 00                              	DB	0
    67 00000039 20                              	DB	32
    68 0000003A 61                              	DB	97
    69 0000003B 00                              	DB	0
    70 0000003C 00                              	DB	0
    71 0000003D 00                              	DB	0
    72 0000003E 00                              	DB	0
    73 0000003F 00                              	DB	0
    74 00000040 00                              	DB	0
    75 00000041 00                              	DB	0
    76 00000042 00                              	DB	0
    77 00000043 00                              	DB	0
    78 00000044 00                              	DB	0
    79 00000045 00                              	DB	0
    80 00000046 00                              	DB	0
    81 00000047 37                              	DB	55
    82 00000048 38                              	DB	56
    83 00000049 39                              	DB	57
    84 0000004A 2D                              	DB	45
    85 0000004B 34                              	DB	52
    86 0000004C 35                              	DB	53
    87 0000004D 36                              	DB	54
    88 0000004E 2B                              	DB	43
    89 0000004F 31                              	DB	49
    90 00000050 32                              	DB	50
    91 00000051 33                              	DB	51
    92 00000052 30                              	DB	48
    93 00000053 2E                              	DB	46
    94 00000054                                 _keytable1:
    95 00000054 00                              	DB	0
    96 00000055 00                              	DB	0
    97 00000056 31                              	DB	49
    98 00000057 32                              	DB	50
    99 00000058 33                              	DB	51
   100 00000059 34                              	DB	52
   101 0000005A 35                              	DB	53
   102 0000005B 36                              	DB	54
   103 0000005C 37                              	DB	55
   104 0000005D 38                              	DB	56
   105 0000005E 39                              	DB	57
   106 0000005F 30                              	DB	48
   107 00000060 2D                              	DB	45
   108 00000061 3D                              	DB	61
   109 00000062 08                              	DB	8
   110 00000063 00                              	DB	0
   111 00000064 71                              	DB	113
   112 00000065 77                              	DB	119
   113 00000066 65                              	DB	101
   114 00000067 72                              	DB	114
   115 00000068 74                              	DB	116
   116 00000069 79                              	DB	121
   117 0000006A 75                              	DB	117
   118 0000006B 69                              	DB	105
   119 0000006C 6F                              	DB	111
   120 0000006D 70                              	DB	112
   121 0000006E 5B                              	DB	91
   122 0000006F 5D                              	DB	93
   123 00000070 0A                              	DB	10
   124 00000071 00                              	DB	0
   125 00000072 61                              	DB	97
   126 00000073 73                              	DB	115
   127 00000074 64                              	DB	100
   128 00000075 66                              	DB	102
   129 00000076 67                              	DB	103
   130 00000077 68                              	DB	104
   131 00000078 6A                              	DB	106
   132 00000079 6B                              	DB	107
   133 0000007A 6C                              	DB	108
   134 0000007B 3B                              	DB	59
   135 0000007C 27                              	DB	39
   136 0000007D 00                              	DB	0
   137 0000007E 00                              	DB	0
   138 0000007F 5C                              	DB	92
   139 00000080 7A                              	DB	122
   140 00000081 78                              	DB	120
   141 00000082 63                              	DB	99
   142 00000083 76                              	DB	118
   143 00000084 62                              	DB	98
   144 00000085 6E                              	DB	110
   145 00000086 6D                              	DB	109
   146 00000087 2C                              	DB	44
   147 00000088 2E                              	DB	46
   148 00000089 2F                              	DB	47
   149 0000008A 00                              	DB	0
   150 0000008B 2A                              	DB	42
   151 0000008C 00                              	DB	0
   152 0000008D 20                              	DB	32
   153 0000008E 46                              	DB	70
   154 0000008F 00                              	DB	0
   155 00000090 00                              	DB	0
   156 00000091 00                              	DB	0
   157 00000092 00                              	DB	0
   158 00000093 00                              	DB	0
   159 00000094 00                              	DB	0
   160 00000095 00                              	DB	0
   161 00000096 00                              	DB	0
   162 00000097 00                              	DB	0
   163 00000098 00                              	DB	0
   164 00000099 00                              	DB	0
   165 0000009A 00                              	DB	0
   166 0000009B 37                              	DB	55
   167 0000009C 38                              	DB	56
   168 0000009D 39                              	DB	57
   169 0000009E 2D                              	DB	45
   170 0000009F 34                              	DB	52
   171 000000A0 35                              	DB	53
   172 000000A1 36                              	DB	54
   173 000000A2 2B                              	DB	43
   174 000000A3 31                              	DB	49
   175 000000A4 32                              	DB	50
   176 000000A5 33                              	DB	51
   177 000000A6 30                              	DB	48
   178 000000A7 2E                              	DB	46
   179                                          [SECTION .text]
   180 00000000                                 	GLOBAL	_fifo32_init
   181 00000000                                 _fifo32_init:
   182 00000000 55                              	PUSH	EBP
   183 00000001 89 E5                           	MOV	EBP,ESP
   184 00000003 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   185 00000006 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
   186 00000009 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
   187 0000000C 89 10                           	MOV	DWORD [EAX],EDX
   188 0000000E 89 48 0C                        	MOV	DWORD [12+EAX],ECX
   189 00000011 8B 55 14                        	MOV	EDX,DWORD [20+EBP]
   190 00000014 89 48 10                        	MOV	DWORD [16+EAX],ECX
   191 00000017 C7 40 14 00000000               	MOV	DWORD [20+EAX],0
   192 0000001E C7 40 04 00000000               	MOV	DWORD [4+EAX],0
   193 00000025 C7 40 08 00000000               	MOV	DWORD [8+EAX],0
   194 0000002C 89 50 18                        	MOV	DWORD [24+EAX],EDX
   195 0000002F 5D                              	POP	EBP
   196 00000030 C3                              	RET
   197 00000031                                 	GLOBAL	_fifo32_put
   198 00000031                                 _fifo32_put:
   199 00000031 55                              	PUSH	EBP
   200 00000032 89 E5                           	MOV	EBP,ESP
   201 00000034 53                              	PUSH	EBX
   202 00000035 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   203 00000038 83 7B 10 00                     	CMP	DWORD [16+EBX],0
   204 0000003C 75 0C                           	JNE	L3
   205 0000003E 83 4B 14 01                     	OR	DWORD [20+EBX],1
   206 00000042 83 C8 FF                        	OR	EAX,-1
   207 00000045                                 L2:
   208 00000045 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   209 00000048 C9                              	LEAVE
   210 00000049 C3                              	RET
   211 0000004A                                 L3:
   212 0000004A 8B 4B 04                        	MOV	ECX,DWORD [4+EBX]
   213 0000004D 8B 13                           	MOV	EDX,DWORD [EBX]
   214 0000004F 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   215 00000052 89 04 8A                        	MOV	DWORD [EDX+ECX*4],EAX
   216 00000055 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   217 00000058 40                              	INC	EAX
   218 00000059 89 43 04                        	MOV	DWORD [4+EBX],EAX
   219 0000005C 3B 43 0C                        	CMP	EAX,DWORD [12+EBX]
   220 0000005F 74 21                           	JE	L7
   221 00000061                                 L4:
   222 00000061 8B 43 18                        	MOV	EAX,DWORD [24+EBX]
   223 00000064 FF 4B 10                        	DEC	DWORD [16+EBX]
   224 00000067 85 C0                           	TEST	EAX,EAX
   225 00000069 74 13                           	JE	L5
   226 0000006B 83 78 04 02                     	CMP	DWORD [4+EAX],2
   227 0000006F 74 0D                           	JE	L5
   228 00000071 6A 00                           	PUSH	0
   229 00000073 6A FF                           	PUSH	-1
   230 00000075 50                              	PUSH	EAX
   231 00000076 E8 [00000000]                   	CALL	_task_run
   232 0000007B 83 C4 0C                        	ADD	ESP,12
   233 0000007E                                 L5:
   234 0000007E 31 C0                           	XOR	EAX,EAX
   235 00000080 EB C3                           	JMP	L2
   236 00000082                                 L7:
   237 00000082 C7 43 04 00000000               	MOV	DWORD [4+EBX],0
   238 00000089 EB D6                           	JMP	L4
   239 0000008B                                 	GLOBAL	_fifo32_get
   240 0000008B                                 _fifo32_get:
   241 0000008B 55                              	PUSH	EBP
   242 0000008C 83 C8 FF                        	OR	EAX,-1
   243 0000008F 89 E5                           	MOV	EBP,ESP
   244 00000091 56                              	PUSH	ESI
   245 00000092 53                              	PUSH	EBX
   246 00000093 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   247 00000096 8B 71 10                        	MOV	ESI,DWORD [16+ECX]
   248 00000099 8B 59 0C                        	MOV	EBX,DWORD [12+ECX]
   249 0000009C 39 DE                           	CMP	ESI,EBX
   250 0000009E 74 18                           	JE	L8
   251 000000A0 8B 41 08                        	MOV	EAX,DWORD [8+ECX]
   252 000000A3 8B 11                           	MOV	EDX,DWORD [ECX]
   253 000000A5 8B 14 82                        	MOV	EDX,DWORD [EDX+EAX*4]
   254 000000A8 40                              	INC	EAX
   255 000000A9 89 41 08                        	MOV	DWORD [8+ECX],EAX
   256 000000AC 39 D8                           	CMP	EAX,EBX
   257 000000AE 74 0C                           	JE	L11
   258 000000B0                                 L10:
   259 000000B0 8D 46 01                        	LEA	EAX,DWORD [1+ESI]
   260 000000B3 89 41 10                        	MOV	DWORD [16+ECX],EAX
   261 000000B6 89 D0                           	MOV	EAX,EDX
   262 000000B8                                 L8:
   263 000000B8 5B                              	POP	EBX
   264 000000B9 5E                              	POP	ESI
   265 000000BA 5D                              	POP	EBP
   266 000000BB C3                              	RET
   267 000000BC                                 L11:
   268 000000BC C7 41 08 00000000               	MOV	DWORD [8+ECX],0
   269 000000C3 EB EB                           	JMP	L10
   270 000000C5                                 	GLOBAL	_fifo32_status
   271 000000C5                                 _fifo32_status:
   272 000000C5 55                              	PUSH	EBP
   273 000000C6 89 E5                           	MOV	EBP,ESP
   274 000000C8 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   275 000000CB 5D                              	POP	EBP
   276 000000CC 8B 42 0C                        	MOV	EAX,DWORD [12+EDX]
   277 000000CF 2B 42 10                        	SUB	EAX,DWORD [16+EDX]
   278 000000D2 C3                              	RET
